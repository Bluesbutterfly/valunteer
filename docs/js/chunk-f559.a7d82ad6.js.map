{"version":3,"sources":["webpack:///./src/view/shopList/index.vue?ec68","webpack:///src/view/shopList/index.vue","webpack:///./src/view/shopList/index.vue?d5b6","webpack:///./src/view/shopList/index.vue","webpack:///./src/view/shopList/index.vue?a5fa"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","placeholder","show-action","on","search","onSearch","cancel","onCancels","model","value","callback","$$v","expression","_l","item","index","click","$event","sortSearch","_v","_s","columns","show-toolbar","onCancel","confirm","onConfirm","_e","refresh","onRefresh","isLoading","finished","load","onLoad","loading","data-id","details","src","picture","title","presentation","goodsName","price","inventory","targetTop","__webpack_require__","staticStyle","display","vid","plugin","amap-manager","amapManager","center","zoom","staticRenderFns","vue_runtime_esm","use","dist_default","a","AMapManager","initAMapApiLoader","key","uiVersion","shopListvue_type_script_lang_js_","components","_components","Object","defineProperty","row","name","col","icon","cell","list","card","field","nav_bar","picker","cell_group","pull_refresh","data","self","rows","pageNumber","totalPage","columnsShow","sortList","lng","lat","categoryId","loaded","pName","events","init","o","getCurrentPosition","status","result","console","log","position","$nextTick","alert","methods","pushObj","_this","$axios","post","lib_default","stringify","page","then","res","serve","resData","datas","goodsList","count","setTimeout","_this2","concat","Math","ceil","sessionStorage","shopIndexId","shopPic","$router","push","query","document","body","scrollTop","documentElement","_this3","distance","category","i","categoryName","mounted","winHeight","clientHeight","getElementById","style","height","view_shopListvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_c3dbf7c0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_c3dbf7c0_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-f559.a7d82ad6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{attrs:{\"id\":\"list-content\"}},[_c('div',{staticClass:\"sort-search\"},[_c('van-cell-group',[_c('van-search',{attrs:{\"placeholder\":\"请输入搜索关键词\",\"show-action\":\"\"},on:{\"search\":_vm.onSearch,\"cancel\":_vm.onCancels},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{staticClass:\"sort-search-contant\"},[_vm._l((_vm.sortList),function(item,index){return _c('div',{staticClass:\"search-item\",on:{\"click\":function($event){_vm.sortSearch(index)}}},[_vm._v(\"\\n        \"+_vm._s(item)+\"\\n        \"),_c('i',{staticClass:\"iconfont icon-xialajiantou\"})])}),(_vm.columnsShow)?_c('van-picker',{staticClass:\"sort-select\",attrs:{\"columns\":_vm.columns,\"show-toolbar\":\"\"},on:{\"cancel\":_vm.onCancel,\"confirm\":_vm.onConfirm}}):_vm._e()],2)],1),_c('van-pull-refresh',{staticClass:\"val-loading-contain\",on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},[_c('van-list',{attrs:{\"finished\":_vm.finished},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('div',{staticClass:\"van-item-list\",attrs:{\"data-id\":item.id},on:{\"click\":function($event){_vm.details(index)}}},[_c('van-cell',{staticClass:\"van-commodity-img\"},[_c('img',{attrs:{\"src\":'http://47.99.140.207:8081/'+item.picture}})]),_c('van-cell',{staticClass:\"van-commodity-more\"},[_c('div',{attrs:{\"title\":item.presentation}},[_vm._v(_vm._s(item.goodsName))]),_c('div',[_c('div',[_vm._v(\"积分：\"),_c('span',[_vm._v(_vm._s(item.price))])]),_c('div',[_vm._v(\"剩余：\"),_c('span',[_vm._v(_vm._s(item.inventory))])])])])],1)}))],1),_c('div',{staticClass:\"van-listimg-btn\",on:{\"click\":_vm.targetTop}},[_c('img',{attrs:{\"src\":require(\"../../static/images/icon_shangjiantou.png\")}})]),_c('el-amap',{staticClass:\"amap-demo\",staticStyle:{\"display\":\"none\"},attrs:{\"vid\":\"amap\",\"plugin\":_vm.plugin,\"amap-manager\":_vm.amapManager,\"center\":_vm.center,\"zoom\":_vm.zoom}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!--<van-nav-bar-->\r\n            <!--title=\"商品列表\"-->\r\n    <!--/>-->\r\n  <div id=\"list-content\">\r\n    <!--分类查询-->\r\n    <div class=\"sort-search\">\r\n      <van-cell-group>\r\n        <van-search\r\n                v-model=\"value\"\r\n                placeholder=\"请输入搜索关键词\"\r\n                show-action\r\n                @search=\"onSearch\"\r\n                @cancel=\"onCancels\"\r\n        />\r\n      </van-cell-group>\r\n      <div class=\"sort-search-contant\">\r\n        <div class=\"search-item\" @click=\"sortSearch(index)\" v-for=\"(item,index) in sortList\">\r\n          {{ item }}\r\n          <i class=\"iconfont icon-xialajiantou\"></i>\r\n        </div>\r\n        <van-picker :columns=\"columns\" show-toolbar v-if=\"columnsShow\" @cancel=\"onCancel\" @confirm=\"onConfirm\" class=\"sort-select\"/>\r\n      </div>\r\n    </div>\r\n    <van-pull-refresh\r\n            class=\"val-loading-contain\"\r\n            v-model=\"isLoading\"\r\n            @refresh=\"onRefresh\"\r\n    >\r\n      <van-list\r\n              v-model=\"loading\"\r\n              :finished=\"finished\"\r\n              @load=\"onLoad\"\r\n      >\r\n        <div v-for=\"(item,index) in list\" class=\"van-item-list\" @click=\"details(index)\" :data-id=\"item.id\">\r\n          <!--商品图片-->\r\n          <van-cell class=\"van-commodity-img\">\r\n            <img :src=\"'http://47.99.140.207:8081/'+item.picture\">\r\n          </van-cell>\r\n          <!--商品详情-->\r\n          <van-cell class=\"van-commodity-more\">\r\n            <div :title=\"item.presentation\">{{ item.goodsName }}</div>\r\n            <div>\r\n              <div>积分：<span>{{ item.price }}</span></div>\r\n              <div>剩余：<span>{{ item.inventory }}</span></div>\r\n            </div>\r\n          </van-cell>\r\n        </div>\r\n      </van-list>\r\n    </van-pull-refresh>\r\n    <div class=\"van-listimg-btn\" @click=\"targetTop\">\r\n      <img src=\"../../static/images/icon_shangjiantou.png\">\r\n    </div>\r\n      <el-amap vid=\"amap\" :plugin=\"plugin\" :amap-manager=\"amapManager\" class=\"amap-demo\" :center=\"center\" :zoom=\"zoom\" style=\"display: none\">\r\n      </el-amap>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Row, Col, Icon, Cell, CellGroup,NavBar,Card,List,Field,PullRefresh,Search,Picker } from 'vant';\r\nimport qs from 'qs'\r\nimport Vue from 'vue'\r\nimport VueAMap from 'vue-amap';\r\nimport '../../static/font_934567_8ze40dr96e7/iconfont.css'\r\nVue.use(VueAMap);\r\n// 初始化vue-amap\r\nlet amapManager = new VueAMap.AMapManager();\r\n// let map = new VueAMap.Map()\r\nVueAMap.initAMapApiLoader({\r\n    // 高德key\r\n    key: '445aa0fada938fa756d8a9c9e7996531',\r\n    // 插件集合 （插件按需引入）\r\n    plugin: [\r\n        \"AMap.Autocomplete\", //输入提示插件\r\n        \"AMap.PlaceSearch\", //POI搜索插件\r\n        \"AMap.Scale\", //右下角缩略图插件 比例尺\r\n        \"AMap.OverView\", //地图鹰眼插件\r\n        \"AMap.ToolBar\", //地图工具条\r\n        \"AMap.MapType\", //类别切换控件，实现默认图层与卫星图、实施交通图层之间切换的控制\r\n        \"AMap.PolyEditor\", //编辑 折线多，边形\r\n        \"AMap.CircleEditor\", //圆形编辑器插件\r\n        \"AMap.Geolocation\", //定位控件，用来获取和展示用户主机所在的经纬度位置\r\n        \"AMap.CloudDataSearch\",//高德云图\r\n        \"AMap.ToolBar\"\r\n    ],\r\n    uiVersion: '1.0.11' // 版本号\r\n});\r\nexport default {\r\n  components: {\r\n    [Row.name]: Row,\r\n    [Col.name]: Col,\r\n    [Icon.name]: Icon,\r\n    [Cell.name]: Cell,\r\n    [List.name]: List,\r\n    [Card.name]: Card,\r\n    [Field.name]: Field,\r\n    [NavBar.name]: NavBar,\r\n    [Search.name]: Search,\r\n    [Picker.name]: Picker,\r\n    [CellGroup.name]: CellGroup,\r\n    [PullRefresh.name]: PullRefresh\r\n  },\r\n  data() {\r\n      let self = this\r\n      return {\r\n          list: [],\r\n          value:'',\r\n          zoom: 15,\r\n          loading: false,\r\n          finished: false,\r\n          isLoading: false,   //是否处于下拉刷新状态\r\n          rows:6,//每页显示的个数\r\n          pageNumber: 1,//当前显示页数\r\n          totalPage: 0,\r\n          columns: [],\r\n          columnsShow:false,\r\n          sortList:[\"分类\",\"附近\",\"排序\"],\r\n          center: [121.59996, 31.197646],\r\n          lng: null,\r\n          lat: null,\r\n          categoryId:null,\r\n          amapManager,\r\n          loaded: false,\r\n          plugin: [{\r\n              pName: 'Geolocation',\r\n              events: {\r\n                  init(o) {\r\n                      // o 是高德地图定位插件实例\r\n                      o.getCurrentPosition((status, result) => {\r\n                          console.log(status)\r\n                          if (result && result.position) {\r\n                              self.lng = result.position.lng;\r\n                              self.lat = result.position.lat;\r\n                              self.center = [self.lng, self.lat];\r\n                              self.loaded = true;\r\n                              self.$nextTick();\r\n                          }else {\r\n                              alert(\"定位失败\")\r\n                          }\r\n                      });\r\n                  }\r\n              }\r\n          }]\r\n      };\r\n  },\r\n\r\n  methods: {\r\n      init(pushObj) {\r\n          let data = {\r\n              pageNumber: this.pageNumber + 1\r\n          };\r\n          let self = this;\r\n          this.$axios.post(\"/api/goods/goodsList\",qs.stringify({ \"page\":self.pageNumber,\"rows\":this.rows,pushObj })).then(res=>{\r\n              // let data = JSON.parse(res.request.serviceStation.response)\r\n              let serve = res.data.resData\r\n              let datas = serve.goodsList;\r\n              self.list = datas;\r\n              self.totalPage = res.data.resData.count/this.rows;\r\n              self.isLoading = false; //关闭下拉刷新效果\r\n          })\r\n      },\r\n      //下拉刷新\r\n      onRefresh() {\r\n          let self = this;\r\n          setTimeout(() => {\r\n              self.totalPage = 0;\r\n              self.pageNumber = 0;\r\n              self.init(); //加载数据\r\n          }, 500);\r\n      },\r\n      //页面初始化之后会触发一次，在页面往下加载的过程中会多次调用【上拉加载】\r\n      onLoad() {\r\n          let self = this;\r\n          setTimeout(() => {\r\n              let data = {\r\n                  pageNumber: self.pageNumber + 1\r\n              };\r\n              this.$axios.post(\"/api/goods/goodsList\",qs.stringify({ \"page\":self.pageNumber,\"rows\":this.rows })).then(res=>{\r\n                  console.log(res)\r\n                  let serve = res.data.resData\r\n                  // let data = JSON.parse(res.request.serviceStation.response)\r\n                  let datas = serve.goodsList;\r\n                  self.list = self.list.concat(datas);\r\n                  self.totalPage = res.data.resData.count/this.rows;\r\n                  self.loading = false; //关闭下拉刷新效果\r\n                  self.pageNumber++;\r\n                  if (self.pageNumber-1 >= Math.ceil(self.totalPage)) {\r\n                      self.finished = true;\r\n                  }\r\n              })\r\n          }, 500);\r\n      },\r\n      // 进入购买详情的页面\r\n      details(index) {\r\n          sessionStorage.shopIndexId = this.list[index].id\r\n          sessionStorage.shopPic = 'http://47.99.140.207:8081/'+this.list[index].picture\r\n          this.$router.push({name:'commodityDetails',query:this.list[index].id})\r\n      },\r\n      // 返回顶部\r\n      targetTop() {\r\n          document.body.scrollTop = 0\r\n          document.documentElement.scrollTop = 0\r\n      },\r\n      sortSearch(index){\r\n          console.log(this.lat)\r\n        this.columnsShow = true\r\n        let distance=[\"不限\",\"1公里\",\"3公里\",\"5公里\",\"10公里\",\"20公里\"]\r\n        let sortList=[\"不限\",\"距离\",\"积分\"]\r\n        this.$axios.post(\"/api/shop/category\",).then(res=>{\r\n            console.log(res)\r\n            let category = []\r\n            this.columns = []\r\n            for (var i in res.data.resData) {\r\n                this.categoryId = res.data.resData[i].id\r\n                category.push(res.data.resData[i].categoryName)\r\n            }\r\n            switch (index){\r\n                case 0:\r\n                    this.columns = category\r\n                    break;\r\n                case 1:\r\n                    this.columns = distance\r\n                    break;\r\n                case 2:\r\n                    this.columns = sortList\r\n                    break;\r\n            }\r\n        })\r\n      },\r\n      // 选择搜索排序\r\n      onConfirm(value,index) {\r\n          self.list = []\r\n          let pushObj =\r\n              {\r\n                  \"name\":value,\r\n                  \"lat\":this.lat,\r\n                  \"lng\":this.lng\r\n              }\r\n          this.init(pushObj)\r\n          this.columnsShow = false\r\n      },\r\n      // 取消\r\n      onCancel(){\r\n          this.columnsShow = false\r\n      },\r\n      onSearch(){\r\n          self.list = []\r\n          let pushObj =\r\n              {\r\n                  \"name\":this.value,\r\n                  \"lat\":this.lat,\r\n                  \"lng\":this.lng\r\n              }\r\n          this.init(pushObj)\r\n      },\r\n      onCancels(){\r\n        return false\r\n      }\r\n  },\r\n    mounted(){\r\n        let winHeight = document.documentElement.clientHeight                          //视口大小\r\n        document.getElementById('list-content').style.height = (winHeight - 46) +'px'  //调整上拉加载框高度\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.van{\r\n  /*标题字体*/\r\n  /deep/ &-nav-bar__title{\r\n    font-size: .4rem;\r\n  }\r\n  /deep/ &-nav-bar__text{\r\n    color: inherit;\r\n    font-size: .28rem;\r\n  }\r\n}\r\n.van-cell{\r\n  font-size: .28rem;\r\n  line-height: .48rem;\r\n  padding: .2rem .3rem;\r\n}\r\n.user {\r\n  &-poster {\r\n    width: 7.5rem;\r\n    height: 4rem;\r\n    display: block;\r\n  }\r\n\r\n  &-group {\r\n    margin-bottom: .3rem;\r\n  }\r\n\r\n  &-links {\r\n    padding: 15px 0;\r\n    font-size: .24rem;\r\n    text-align: center;\r\n    background-color: #fff;\r\n\r\n    .van-icon {\r\n      display: block;\r\n      font-size: .48rem;\r\n    }\r\n  }\r\n}\r\n.van{\r\n  &-list{\r\n    overflow: hidden;\r\n  }\r\n  /deep/ &-item-list{\r\n    float: left;\r\n    width: 50%;\r\n    padding: .2rem .2rem 0 .2rem;\r\n    box-sizing: border-box;\r\n    .van-commodity-img{\r\n      img{\r\n        width: 100%;\r\n        height: 3rem;\r\n        object-fit: contain;\r\n      }\r\n    }\r\n    .van-commodity-more{\r\n        >div{\r\n            >div:first-child{\r\n                font-size: .24rem;\r\n                color: #666;\r\n                overflow: hidden;\r\n                text-overflow:ellipsis;\r\n                white-space: nowrap;\r\n            }\r\n            >div:last-child{\r\n                display: flex;\r\n                justify-content: space-between;\r\n                font-size: .2rem;\r\n                color: #999;\r\n                >div:first-child{\r\n                    color: #FD4242;\r\n                }\r\n            }\r\n        }\r\n    }\r\n  }\r\n  &-item-list:nth-child(even){\r\n      padding-left: 0;\r\n  }\r\n  &-listimg-btn{\r\n      position: fixed;\r\n      right: .64rem;\r\n      bottom: .76rem;\r\n      width: 1.02rem;\r\n      height: 1.02rem;\r\n      img{\r\n          width: 100%;\r\n          height: 100%;\r\n      }\r\n  }\r\n}\r\n.val{\r\n  &-persnal-title{\r\n    height: 2.74rem;\r\n    position: relative;\r\n    top: -.91rem;\r\n    .val-img-title{\r\n      width: 1.82rem;\r\n      height: 1.82rem;\r\n      margin: 0 auto;\r\n      img{\r\n        width: 100%;\r\n        height: 100%;\r\n        border-radius: 50%;\r\n      }\r\n    }\r\n  }\r\n  &-vitrl-name{\r\n    text-align: center;\r\n    padding-top: .1rem;\r\n    font-size: .32rem;\r\n    color: #666666;\r\n  }\r\n  &-info{\r\n    display: flex;\r\n    justify-content: center;\r\n    padding-top: .2rem;\r\n    >div{\r\n      display: inline-block;\r\n      padding-right: .36rem;\r\n      font-size: .28rem;\r\n      color: #CCCCCC;\r\n      img{\r\n        width: .24rem;\r\n        padding-right: .1rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n    /*分类查询*/\r\n.sort-search-contant{\r\n    height: .7rem;\r\n    line-height: .7rem;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    color: #666;\r\n    margin-bottom: .3rem;\r\n    background: #fff;\r\n    position: relative;\r\n}\r\n.sort-select{\r\n    position: absolute;\r\n    width: 100%;\r\n    top: .8rem;\r\n    left: 0;\r\n    z-index: 999;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=c3dbf7c0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=c3dbf7c0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c3dbf7c0\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=c3dbf7c0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=c3dbf7c0&lang=less&scoped=true&\""],"sourceRoot":""}