{"version":3,"sources":["webpack:///./src/view/logins/index.vue?75db","webpack:///src/view/logins/index.vue","webpack:///./src/view/logins/index.vue?8ded","webpack:///./src/view/logins/index.vue","webpack:///./src/view/logins/index.vue?ed3f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","src","__webpack_require__","placeholder","maxlength","model","value","data","callback","$$v","$set","expression","type","staticStyle","text-align","_s","errorMsg","subErr","size","on","click","login","staticRenderFns","_debounce","fn","delay","timer","th","args","arguments","clearTimeout","setTimeout","apply","loginsvue_type_script_lang_js_","components","_components","Object","defineProperty","cell_group","name","field","row","col","es_button","number_keyboard","user","phone","pass","code","btn","types","time","disabled","mobile","message","errorSpace","methods","_this","$axios","post","lib_default","a","stringify","shopPhone","password","then","res","console","log","resCode","sessionStorage","valunum","$cookies","set","resData","id","shopName","$router","push","query","catch","err","view_loginsvue_type_script_lang_js_","d","__webpack_exports__","component","componentNormalizer","options","__file","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_b60ad432_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_b60ad432_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-7471.d118f4ed.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods\"},[_c('h2',[_vm._v(\"您好，商户用户\")]),_c('van-cell-group',[_c('div',{staticClass:\"val-task-icon\"},[_c('img',{attrs:{\"src\":require(\"../../static/images/icon_shouji.png\")}}),_vm._v(\"\\n      登录账号\\n    \")]),_c('van-field',{attrs:{\"placeholder\":\"请输入手机号\",\"maxlength\":\"12\"},model:{value:(_vm.data.phone),callback:function ($$v) {_vm.$set(_vm.data, \"phone\", $$v)},expression:\"data.phone\"}}),_c('div',{staticClass:\"val-task-icon\"},[_c('img',{attrs:{\"src\":require(\"../../static/images/icon_mima.png\")}}),_vm._v(\"\\n      密码\\n    \")]),_c('van-field',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\",\"maxlength\":\"18\"},model:{value:(_vm.data.pass),callback:function ($$v) {_vm.$set(_vm.data, \"pass\", $$v)},expression:\"data.pass\"}})],1),_c('div',{staticClass:\"van-field__error-message\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.errorMsg.subErr))]),_c('van-button',{attrs:{\"size\":\"normal\",\"type\":\"primary\"},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"goods\">\r\n    <h2>您好，商户用户</h2>\r\n    <van-cell-group>\r\n      <div class=\"val-task-icon\">\r\n        <img src=\"../../static/images/icon_shouji.png\">\r\n        登录账号\r\n      </div>\r\n      <van-field\r\n              placeholder=\"请输入手机号\"\r\n              v-model=\"data.phone\"\r\n              maxlength=\"12\"\r\n      />\r\n\r\n      <div class=\"val-task-icon\">\r\n        <img src=\"../../static/images/icon_mima.png\">\r\n        密码\r\n      </div>\r\n      <van-field\r\n              type=\"password\"\r\n              placeholder=\"请输入密码\"\r\n              v-model=\"data.pass\"\r\n              maxlength=\"18\"\r\n      />\r\n    </van-cell-group>\r\n    <div class=\"van-field__error-message\" style=\"text-align: center;\">{{ errorMsg.subErr }}</div>\r\n    <!--<div class=\"val-register-href clearfix\">-->\r\n      <!--<router-link  to=\"/register/\">注册</router-link>-->\r\n    <!--</div>-->\r\n    <van-button size=\"normal\" type=\"primary\" @click=\"login\">登录</van-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  field,\r\n  CellGroup,\r\n  NumberKeyboard,\r\n  button,\r\n  row,\r\n  col\r\n} from 'vant';\r\nimport qs from 'qs'\r\n// 防抖\r\nexport function _debounce(fn, delay) {\r\n\r\n    var delay = delay || 200;\r\n    var timer;\r\n    return function () {\r\n        var th = this;\r\n        var args = arguments;\r\n        clearTimeout(timer);\r\n        timer = setTimeout(function () {\r\n            timer = null;\r\n            fn.apply(th, args);\r\n        }, delay);\r\n    };\r\n}\r\nexport default {\r\n  components: {\r\n    [CellGroup.name]: CellGroup,\r\n    [field.name]: field,\r\n    [row.name]: row,\r\n    [col.name]: col,\r\n    [button.name]: button,\r\n    [NumberKeyboard.name]: NumberKeyboard\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      data: {\r\n          user:\"商户\",\r\n          phone:null,\r\n          pass:null,\r\n          code:null,\r\n          btn:\"获取验证码\",\r\n          types:\"登录\",\r\n          time:\"\",\r\n          disabled:false,\r\n      },\r\n      errorMsg: {\r\n          mobile: '',\r\n          message: '',\r\n          pass: '',\r\n          subErr:''\r\n      },\r\n      errorSpace: {\r\n          mobile: false\r\n      }\r\n    };\r\n  },\r\n\r\n  methods: {\r\n      // 手机号码校验方法\r\n      // inputPhone:  _debounce(function (_type, index, item) {\r\n      //     let reg=11 && /^((13|14|15|17|18)[0-9]{1}\\d{8})$/,\r\n      //         phoneNum = this.data.phone,\r\n      //         self = this;\r\n      //     console.log(phoneNum)\r\n      //     let msgErr = reg.test(phoneNum);\r\n      //     if(phoneNum == \"\"){\r\n      //         self.errorMsg.mobile = \"\"\r\n      //         self.errorSpace.mobile = true\r\n      //     }else{\r\n      //         self.errorSpace.mobile = false\r\n      //         if(!msgErr){\r\n      //             self.errorMsg.mobile = \"手机号格式错误\"\r\n      //         }else {\r\n      //             self.errorMsg.mobile = \"\"\r\n      //         }\r\n      //     }\r\n      // },2000),\r\n      // 密码的验证\r\n      // validate_password: _debounce(function (_type, index, item){\r\n      //     let passwordPattern=/^(?![0-9]+$)(?![a-zA-Z]+$)[a-zA-Z\\d]{6,16}$/,\r\n      //         t,\r\n      //         pass = this.data.pass,\r\n      //         self = this;\r\n      //     clearTimeout(t)\r\n      //     t = setTimeout(function (){\r\n      //         if(!passwordPattern.test(pass)){\r\n      //             self.errorMsg.pass = \"请输入6-16位字母加数字的密码\"\r\n      //         } else {\r\n      //             self.errorMsg.pass = \"\"\r\n      //         }\r\n      //     }, 1000);\r\n      //\r\n      // }),\r\n      // 登录\r\n      login(){\r\n          if (this.data.phone == null || this.data.pass == null){\r\n              this.errorMsg.subErr = \"账号密码不能为空\"\r\n          }else {\r\n              this.errorMsg.subErr = \"\"\r\n              this.$axios.post(\"/api/shop/login\",qs.stringify({ \"shopPhone\":this.data.phone,\"password\":this.data.pass })).then(res=>{\r\n                  console.log(res)\r\n                  if (res.data.resCode == -1){\r\n                      this.errorMsg.subErr = \"用户名或密码错误\"\r\n                  }else {\r\n                      sessionStorage.valunum = 1;\r\n                      this.$cookies.set(\"cid\" , res.data.resData.id,30 * 60)\r\n                      this.$cookies.set(\"shopName\" , res.data.resData.shopName,30 * 60)\r\n                      this.$cookies.set(\"shopPhone\" , res.data.resData.shopPhone,30 * 60)\r\n                      // this.$cookies.set(\"busPhone\",res.data.resData.loginName,30*60)\r\n                      this.$router.push({name:'loginsuc',query:this.data})\r\n                  }\r\n              }).catch(err=>{\r\n                  console.log(err)\r\n              })\r\n          }\r\n\r\n      }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.goods {\r\n  padding-bottom: 1rem;\r\n  min-height: 100vh;\r\n  box-sizing: border-box;\r\n  background-color: #fff;\r\n  h2{\r\n    text-align: center;\r\n    padding: 1.14rem 0;\r\n    margin: 0;\r\n  }\r\n  .van-button--primary{\r\n    width: 2rem;\r\n    height: .6rem;\r\n    line-height: .6rem;\r\n    border-radius: 20px;\r\n    background-color: transparent;\r\n    border: 1px solid #BBBBBC;\r\n    color: #BBBBBC;\r\n  }\r\n  .van-button--normal{\r\n    width: 2.04rem;\r\n    height: .84rem;\r\n    display: block;\r\n    margin: 0 auto ;\r\n    background-color: #58BF8A;\r\n    border: 1px solid #58BF8A;\r\n    color: #fff;\r\n    border-radius: 50px;\r\n    margin-top: .8rem;\r\n  }\r\n  .van-cell{\r\n    padding: .2rem .84rem .2rem 1.36rem;\r\n  }\r\n  .val-task-icon{\r\n    padding: .4rem .78rem;\r\n    box-sizing: border-box;\r\n    line-height: 24px;\r\n    color: #434343;\r\n    font-size: 14px;\r\n    overflow: hidden;\r\n    align-items: center;\r\n    display: flex;\r\n    img{\r\n      width: .3rem;\r\n      margin-right: .28rem;\r\n    }\r\n  }\r\n  .val-register-href{\r\n    font-size: 14px;\r\n    a{\r\n      float: right;\r\n      margin: .6rem .84rem 0 0;\r\n      color: #58BF8A;\r\n    }\r\n  }\r\n  .clearfix {\r\n    &:before,\r\n    &:after {\r\n      content: \" \";\r\n      display: table;\r\n    }\r\n    &:after {\r\n      clear: both;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b60ad432&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b60ad432&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b60ad432\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b60ad432&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b60ad432&lang=less&scoped=true&\""],"sourceRoot":""}