{"version":3,"sources":["webpack:///./src/view/register/index.vue?067b","webpack:///src/view/register/index.vue","webpack:///./src/view/register/index.vue?3f4b","webpack:///./src/view/register/index.vue","webpack:///./src/view/register/index.vue?2cb0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","src","__webpack_require__","placeholder","error-message","errorMsg","mobile","error","errorSpace","maxlength","on","input","inputPhone","model","value","data","callback","$$v","$set","expression","type","staticStyle","text-align","_s","subErr","size","click","register","staticRenderFns","_debounce","fn","delay","timer","th","args","arguments","clearTimeout","setTimeout","apply","registervue_type_script_lang_js_","components","_components","Object","defineProperty","cell_group","name","field","row","col","es_button","number_keyboard","user","phone","pass","code","btn","types","time","determine","determines","disabled","message","methods","_type","index","item","reg","phoneNum","self","console","log","msgErr","test","sendPhone","_this","set","setInterval","clearInterval","_this2","undefined","$axios","post","lib_default","a","stringify","password","then","res","sessionStorage","valunum","timeOut","rescode","resCode","resMessage","$router","push","query","catch","err","view_registervue_type_script_lang_js_","d","__webpack_exports__","component","componentNormalizer","options","__file","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_431babe5_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_431babe5_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-1837.725ea990.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods\"},[_c('h2',[_vm._v(\"注册志愿者\")]),_c('van-cell-group',[_c('div',{staticClass:\"val-task-icon\"},[_c('img',{attrs:{\"src\":require(\"../../static/images/icon_shouji.png\")}}),_vm._v(\"\\n      手机\\n    \")]),_c('van-field',{attrs:{\"placeholder\":\"请输入手机号\",\"error-message\":_vm.errorMsg.mobile,\"error\":_vm.errorSpace.mobile,\"maxlength\":\"12\"},on:{\"input\":_vm.inputPhone},model:{value:(_vm.data.phone),callback:function ($$v) {_vm.$set(_vm.data, \"phone\", $$v)},expression:\"data.phone\"}}),_c('div',{staticClass:\"val-task-icon\"},[_c('img',{attrs:{\"src\":require(\"../../static/images/icon_mima.png\")}}),_vm._v(\"\\n      密码\\n    \")]),_c('van-field',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\",\"maxlength\":\"18\"},model:{value:(_vm.data.pass),callback:function ($$v) {_vm.$set(_vm.data, \"pass\", $$v)},expression:\"data.pass\"}})],1),_c('div',{staticClass:\"van-field__error-message\",staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.errorMsg.subErr))]),_c('van-button',{attrs:{\"size\":\"normal\",\"type\":\"primary\"},on:{\"click\":_vm.register}},[_vm._v(\"注册\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"goods\">\r\n    <h2>注册志愿者</h2>\r\n    <van-cell-group>\r\n      <div class=\"val-task-icon\">\r\n        <img src=\"../../static/images/icon_shouji.png\">\r\n        手机\r\n      </div>\r\n      <van-field\r\n              placeholder=\"请输入手机号\"\r\n              v-model=\"data.phone\"\r\n              :error-message=\"errorMsg.mobile\"\r\n              :error=\"errorSpace.mobile\"\r\n              @input=\"inputPhone\"\r\n              maxlength=\"12\"\r\n      />\r\n\r\n      <!--<div class=\"val-task-icon\">-->\r\n        <!--<img src=\"../../static/images/icon_yanzhengma.png\">-->\r\n        <!--验证码-->\r\n      <!--</div>-->\r\n      <!--<van-field-->\r\n              <!--placeholder=\"请输入短信验证码\"-->\r\n              <!--v-model=\"data.code\"-->\r\n              <!--type=\"tel\"-->\r\n              <!--:error-message=\"errorMsg.message\"-->\r\n              <!--clearable-->\r\n              <!--maxlength=\"10\"-->\r\n      <!--&gt;-->\r\n        <!--<van-button slot=\"button\" size=\"small\" type=\"primary\" @click=\"sendPhone\" :disabled=\"data.disabled\">{{ data.btn }}</van-button>-->\r\n      <!--</van-field>-->\r\n\r\n      <div class=\"val-task-icon\">\r\n        <img src=\"../../static/images/icon_mima.png\">\r\n        密码\r\n      </div>\r\n      <van-field\r\n              type=\"password\"\r\n              placeholder=\"请输入密码\"\r\n              v-model=\"data.pass\"\r\n              maxlength=\"18\"\r\n      />\r\n    </van-cell-group>\r\n    <div class=\"van-field__error-message\" style=\"text-align: center;\">{{ errorMsg.subErr }}</div>\r\n    <van-button size=\"normal\" type=\"primary\" @click=\"register\">注册</van-button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  field,\r\n  CellGroup,\r\n  NumberKeyboard,\r\n  button,\r\n  row,\r\n  col\r\n} from 'vant';\r\nimport qs from 'qs'\r\n// 防抖\r\nexport function _debounce(fn, delay) {\r\n\r\n    var delay = delay || 200;\r\n    var timer;\r\n    return function () {\r\n        var th = this;\r\n        var args = arguments;\r\n        clearTimeout(timer);\r\n        timer = setTimeout(function () {\r\n            timer = null;\r\n            fn.apply(th, args);\r\n        }, delay);\r\n    };\r\n}\r\nexport default {\r\n  components: {\r\n    [CellGroup.name]: CellGroup,\r\n    [field.name]: field,\r\n    [row.name]: row,\r\n    [col.name]: col,\r\n    [button.name]: button,\r\n    [NumberKeyboard.name]: NumberKeyboard\r\n  },\r\n\r\n  data() {\r\n      return {\r\n          data: {\r\n              user:\"商户\",\r\n              phone:null,\r\n              pass:null,\r\n              code:null,\r\n              btn:\"获取验证码\",\r\n              types:\"注册\",\r\n              time:\"\",\r\n              determine:false,\r\n              determines:false,\r\n              disabled:false,\r\n          },\r\n          errorMsg: {\r\n              mobile: '',\r\n              message: '',\r\n              pass: '',\r\n              subErr:''\r\n          },\r\n          errorSpace: {\r\n              mobile: false\r\n          }\r\n      };\r\n  },\r\n\r\n  methods: {\r\n      // 手机号码校验方法\r\n      inputPhone:  _debounce(function (_type, index, item) {\r\n          let reg=11 && /^((13|14|15|17|18)[0-9]{1}\\d{8})$/,\r\n              phoneNum = this.data.phone,\r\n              self = this;\r\n          console.log(phoneNum)\r\n          self.data.determine = false\r\n          let msgErr = reg.test(phoneNum);\r\n          if(phoneNum == \"\"){\r\n              self.errorMsg.mobile = \"\"\r\n              self.errorSpace.mobile = true\r\n          }else{\r\n              self.errorSpace.mobile = false\r\n              if(!msgErr){\r\n                  self.errorMsg.mobile = \"手机号格式错误\"\r\n              }else {\r\n                  self.data.determine = true\r\n                  self.errorMsg.mobile = \"\"\r\n              }\r\n          }\r\n\r\n          console.log(this.data.determine)\r\n      },2000),\r\n      // 短信验证码\r\n      sendPhone (){\r\n        let _this = this;\r\n        _this.data.disabled = true;\r\n        _this.data.time = 60;\r\n        let set = setInterval(()=>{\r\n            _this.data.time --;\r\n            if (_this.data.time == 0){\r\n                _this.data.btn = \"获取验证码\"\r\n                _this.data.disabled = false\r\n                clearInterval(set)\r\n            }else {\r\n                _this.data.btn = \"重新发送\"+_this.data.time\r\n                _this.data.disabled = true\r\n            }\r\n        },1000)\r\n      },\r\n      // 密码的验证\r\n      // validate_password: _debounce(function (_type, index, item){\r\n      //     let passwordPattern=/^(?![0-9]+$)(?![a-zA-Z]+$)[a-zA-Z\\d]{6,16}$/,\r\n      //         t,\r\n      //         pass = this.data.pass,\r\n      //         self = this;\r\n      //     self.data.determines = false\r\n      //     clearTimeout(t)\r\n      //     t = setTimeout(function (){\r\n      //         if(!passwordPattern.test(pass)){\r\n      //             self.errorMsg.pass = \"请输入6-16位字母加数字的密码\"\r\n      //         } else {\r\n      //             self.data.determines = true\r\n      //             self.errorMsg.pass = \"\"\r\n      //         }\r\n      //\r\n      //         console.log(self.data.determines)\r\n      //     }, 1000);\r\n      //\r\n      // }),\r\n      // 注册\r\n      register(){\r\n          // console.log(\"账号\"+this.phone+\"密码\"+this.phone )\r\n          // console.log(this.data.determine)\r\n          if (this.data.determine == false || this.data.phone == undefined || this.data.pass == undefined){\r\n              this.errorMsg.subErr = \"账号密码不能为空\"\r\n          } else {\r\n              this.errorMsg.subErr = \"\"\r\n              this.$axios.post(\"/api/volunteer/register\",qs.stringify({ \"phone\":this.data.phone,\"password\":this.data.pass })).then(res=>{\r\n                  console.log(res)\r\n                  sessionStorage.valunum = -2\r\n                  let phoneNum = this.data.phone,\r\n                      timeOut = this.data.time,\r\n                      rescode = res.data.resCode\r\n                  let error = res.data.resMessage\r\n                  this.errorMsg.subErr = error\r\n                  if (timeOut < 0){\r\n                      this.errorMsg.message = \"验证码已过期，请重新验证\"\r\n                  }else {\r\n                      this.errorMsg.message = \"\"\r\n                  }\r\n                  console.log(rescode)\r\n                  if (rescode == 1){\r\n                      this.$router.push({name:'loginsuc',query:this.data})\r\n                  }\r\n              }).catch(err=>{\r\n                  console.log(err)\r\n              })\r\n          }\r\n\r\n      }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.van{\r\n  /*标题字体*/\r\n  &-nav-bar__title{\r\n    font-size: .4rem;\r\n  }\r\n  &-nav-bar &-icon{\r\n    color: #666;\r\n  }\r\n}\r\n.goods {\r\n  padding-bottom: 1rem;\r\n  background-color: #fff;\r\n  min-height: 100vh;\r\n  box-sizing: border-box;\r\n  h2{\r\n    text-align: center;\r\n    padding: 1.14rem 0;\r\n    margin: 0;\r\n  }\r\n  .van-button--primary{\r\n    width: 2rem;\r\n    height: .6rem;\r\n    line-height: .6rem;\r\n    border-radius: 20px;\r\n    background-color: transparent;\r\n    box-sizing: content-box;\r\n    border: 1px solid #BBBBBC;\r\n    color: #BBBBBC;\r\n  }\r\n  .van-button--normal{\r\n    width: 2.04rem;\r\n    height: .84rem;\r\n    display: block;\r\n    margin: 0 auto ;\r\n    background-color: #58BF8A;\r\n    border: 1px solid #58BF8A;\r\n    color: #fff;\r\n    border-radius: 50px;\r\n    margin-top: 1.1rem;\r\n  }\r\n  .van-cell{\r\n    padding: .2rem .84rem .2rem 1.36rem;\r\n  }\r\n  .val-task-icon{\r\n    padding: .4rem .78rem;\r\n    box-sizing: border-box;\r\n    line-height: 24px;\r\n    color: #434343;\r\n    font-size: 14px;\r\n    overflow: hidden;\r\n    align-items: center;\r\n    display: flex;\r\n    img{\r\n      width: .3rem;\r\n      margin-right: .28rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=431babe5&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=431babe5&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"431babe5\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=431babe5&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=431babe5&lang=less&scoped=true&\""],"sourceRoot":""}